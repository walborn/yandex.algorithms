# Бинарные деревья

## Добавление

## Удаление
1. лист
2. узел с одним ребенком
3. узел с двумя детьми

## Сортировка с помощью бинарного дерева

```js
const printSortedTreeRec = (node) => {
  printSortedTreeRec(node.left)
  console.log(node.key)
  printSortedTreeRec(node.right)
}
```


# Небинарные деревья
Аналогия со скобочной последовательностью - можно

## Диаметр дерева
1. Найдем максимальную глубину
2. Самый длинный путь может проходить не через корень. Сначала ищем максимальный путь через каждую вершину и из них берем максимум
3. Второй способ. Подвесить на самую удаленную вершину от корня


## Задачи
### Срочное сообщение
- В компании сообщение передается от начальника к подчиненному. или от подчиненного к начальнику за единицу времени
- Двое людей без подчиненных могут передать друг другу сообщение за единицу времени на кофепоинте
- Будет много запросов о передаче сообщений

Отдельно считаем передачу через цепочки начальник-подчиненный
Отдельно для цепочки подчиенный-подчиненный

![[Pasted image 20241127144843.png]]
### Коровники
- В каждом узле дерева пасется корова
- В узлах дерева можно построить K коровников, где коровы будут прятаться от дождя
- Необходимо определить места для строительства коровников, чтобы максимальный путь коровы до ближайшего коровника был минимальным
Решим другую задачу, а какое минимальное количество коровников `K` можно построить, если корова может перемещаться только на `M` шагов, ребер, тропинок.
А затем бинарным поиском по `M` найдем расположение для `K` коровников
![[Pasted image 20241127145247.png]]


## Балансировка бинарных деревьев

Например нам дают все числа подряд, тогда получится вырожденное дерево, когда у всех только один ребенок

## SPLIT
Научимся разрезать дерево на два по ключу 

Красно-черное дерево
Декартово дерево

Например у нас дерево 1 -> 2 -> 3 -> .... -> 8
Режем по  6
![[Pasted image 20241127145836.png]]
Похоже на поиск ключа

### Merge 
Научимся склеивать два дерева
![[Pasted image 20241127150516.png]]

# Вставка элемента 
Если нужно вставить элемент `X`, то разрежем дерево по `X`, создадим новое дерево с элементом `X` и сольем деревья
![[Pasted image 20241127154441.png]]

## Удаление элемента
Разрежем дерево на три: с ключами `<= x`, `== x` и `>= x`. Среднее удалим и склеим левое и правое
![[Pasted image 20241127155628.png]]\

